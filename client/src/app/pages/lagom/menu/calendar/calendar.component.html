<vex-page-layout mode="simple">
    <vex-page-layout-header class="flex flex-col items-start justify-center">
        <vex-breadcrumbs [crumbs]="['Menu', 'Calendar']"></vex-breadcrumbs>
    </vex-page-layout-header>

    <!-- <vex-page-layout-content class="container"> -->
    <vex-page-layout-content class="-mt-6 px-6 w-full">
        <div class="h-full flex flex-col">
            <div class="calendar-bg relative flex-none">
                <div class="bg-app-bar absolute top-0 left-0 right-0 bottom-0 z-0 w-full h-full"></div>                                
                <div class=" w-full py-4 px-6 h-16 z-10 relative flex items-end">
                    <div class="flex-auto flex flex-col sm:flex-row justify-between items-center">
                        <div class="headline">
                            {{ viewDate | calendarDate: view + "ViewTitle" : "it" }}
                        </div>

                        <div class="actions flex flex-col sm:flex-row justify-end items-center">
                            <div class="chevrons">
                                <button [(viewDate)]="viewDate" [view]="view" mat-icon-button mwlCalendarPreviousView>
                                    <mat-icon svgIcon="mat:chevron_left"></mat-icon>
                                </button>
                                <button [(viewDate)]="viewDate" [view]="view" mat-icon-button mwlCalendarNextView>
                                    <mat-icon svgIcon="mat:chevron_right"></mat-icon>
                                </button>
                            </div>
                            <div class="flex gap-1">
                                <button (click)="view = CalendarView.Month" mat-button>Mese</button>
                                <button (click)="view = CalendarView.Week" mat-button>Settimana</button>
                                <button (click)="view = CalendarView.Day" mat-button>Giorno</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <vex-scrollbar [ngSwitch]="view" class="px-0 shadow flex-auto relative w-full">
                <mwl-calendar-month-view (dayClicked)="dayClicked($event.day)"
                    (eventClicked)="handleEvent('Clicked', $event.event)"
                    (eventTimesChanged)="eventTimesChanged($event)" *ngSwitchCase="'month'"
                    [activeDayIsOpen]="activeDayIsOpen" [events]="events" [refresh]="refresh" [viewDate]="viewDate">
                </mwl-calendar-month-view>
                <mwl-calendar-week-view (eventClicked)="handleEvent('Clicked', $event.event)"
                    (eventTimesChanged)="eventTimesChanged($event)" *ngSwitchCase="'week'" [events]="events"
                    [refresh]="refresh" [viewDate]="viewDate">
                </mwl-calendar-week-view>
                <mwl-calendar-day-view (eventClicked)="handleEvent('Clicked', $event.event)"
                    (eventTimesChanged)="eventTimesChanged($event)" *ngSwitchCase="'day'" [events]="events"
                    [refresh]="refresh" [viewDate]="viewDate">
                </mwl-calendar-day-view>
            </vex-scrollbar>
        </div>
    </vex-page-layout-content>
</vex-page-layout>